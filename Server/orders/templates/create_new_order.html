{% extends "base.html" %}

{% block title %}
    <title>Create New Order</title>
{% endblock title %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-8">
            {% block nav_links %}
                <span class="d-flex align-items-center mb-2">
                    <a href="{% url 'orders:list_of_orders' %}" class="text-decoration-none text-secondary ">
                        <i class='bx bx-home fs-5 text-secondary' ></i>
                    </a>

                    <i class='bx bx-chevron-right fs-5 text-secondary' ></i>
                    <span class="text-secondary">Add New Order</span>
                </span>
            {% endblock nav_links %}
            <div class="card shadow-sm p-4 mb-5 bg-white rounded">
                <h2 class="text-primary mt-1">New Order</h2>
                <hr>
                <div class="card-body">
                    <form action="" method="post">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="{{ form.order_name.id_for_label }}" class="form-label">{{ form.domain_name.label }}:</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text">
                                    <i class='bx bx-code-curly fs-5' style='color:#4d524d'></i>
                                </span>
                                {{ form.domain_name }}
                            </div>
                        </div>
                        
                       
                        <div class="mb-3">
                            <label for="{{ form.domain_type.id_for_label }}" class="form-label">{{ form.domain_type.label }}:</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text">
                                    <i class='bx bx-windows fs-5' style='color:#4d524d'></i>
                                </span>
                                {{ form.domain_type }}
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.active.id_for_label }}" class="form-label">{{ form.click_domain_only.label }}:</label>
                            {{ form.click_domain_only }} 
                        </div>
                        <div class="mb-3">
                            <label for="{{ form.active.id_for_label }}" class="form-label">{{ form.active.label }}:</label>
                            {{ form.active }} 
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.work_sec.id_for_label }}" class="form-label">{{ form.work_sec.label }}:</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text">
                                        <i class='bx bxs-time fs-5' style='color:#4d524d'></i>
                                    </span>
                                    {{ form.work_sec }}
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="{{ form.avg_sec_per_page.id_for_label }}" class="form-label">{{ form.avg_sec.label }}:</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text">
                                        <i class='bx bxs-time fs-5' style='color:#4d524d'></i>
                                    </span>
                                    {{ form.avg_sec }}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.num_users.id_for_label }}" class="form-label">{{ form.num_users.label }}:</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text">
                                        <i class='bx bxs-group fs-5' style='color:#4d524d'></i>
                                    </span>
                                    {{ form.num_users }}
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="{{ form.order_schedule.id_for_label }}" class="form-label">{{ form.order_schedule.label }}:</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text">
                                        <i class='bx bxs-time fs-5' style='color:#4d524d'></i>
                                    </span>
                                    {{ form.order_schedule }}
                                </div>
                            </div>
                        </div>

                        <div class="float-end">
                            <input type="submit" class="btn btn-primary" value="Create Order">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <style>
        .domain-message {
            font-weight: bold;
            color: #752610; /* You can change the color as needed */
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var clickDomainCheckbox = document.getElementById('{{ form.click_domain_only.id_for_label }}');
            var messageDiv = document.createElement('div');
            messageDiv.className = 'domain-message';
            messageDiv.style.display = 'none'; // Hide the message by default
            messageDiv.innerHTML = 'Please use "www." and ".com" or your TLD in Domain name.'; // Set the message content
    
            clickDomainCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    messageDiv.style.display = 'block'; // Show the message when checkbox is checked
                } else {
                    messageDiv.style.display = 'none'; // Hide the message when checkbox is unchecked
                }
            });
    
            // Append the message element to the form
            var formGroup = clickDomainCheckbox.closest('.mb-3');
            formGroup.appendChild(messageDiv);
        });
    </script>
{% endblock content %}
